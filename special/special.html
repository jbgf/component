<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="/css/base.css">
	<link rel="stylesheet" type="text/css" href="/css/frame.css">
	<link rel="stylesheet" type="text/css" href="/css/button.css">
	<link rel="stylesheet" type="text/css" href="/css/slider.css">
	<link rel="stylesheet" type="text/css" href="/css/content.css">
	<link rel="stylesheet" type="text/css" href="/css/sideBar.css">
	<link rel="stylesheet" type="text/css" href="/css/special.css">
	<link rel="stylesheet" type="text/css" href="/css/index.css">
	
	<script type="text/javascript" src="/js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="/js/layer/layer.js"></script>
	<script type="text/javascript" src="/js/index.js"></script>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=bT5d3SyGp0VfmwROzCumXsl551zI7WcD"></script>
	<script type="text/javascript">
		$(function(){
			$("#specialBox").set({
				brandName:"special",
				rowBlock:3
			});
		});
		
	</script>
</head>
<body>
	<div class="bg extend-width bg-black">
		<div class="container1200">
			<div class="line ">	
				<div class="block block-1 ">
					<div class="brandName white"></div>
				</div>
			</div>
		</div>
	</div>	
	<div class="fixedBg"></div>
	<div id="specialBox" class="container1200">
		<div class="box">
			<script type="text/javascript">
				var imgPath;/*["/img/1.png","/img/2.png","/img/3.png","/img/4.png","/img/5.png","/img/6.png"]*/
				
                var percent = 1,
                    numLoaded = 0,
                    $loadPercent = document.getElementById("loadPercent");
				$.ajax({
					method:"post",
					url:"/php/special.php",
					data:{get_file_type: "img"},
					dataType:"json",
					success:function(data){
						imgPath = data;
						console.log(imgPath)
		                loadimg(imgPath);
					}
				})
				
                function loading() {
                	console.log(numLoaded < imgPath.length)
                    if (numLoaded < imgPath.length) {
                        if (percent < 100 - imgPath.length + numLoaded) {
                            percent++;
                        		    
                        }

                    } else {

                        percent += 10;
                        percent > 100 && (percent = 100);
                        
                    }
                    if (percent >= 100 && typeof $ != 'undefined') {
                        return
                    }
                    setTimeout(arguments.callee, 10)
                }
                function loadimg(arr) {
                    loading();
                    for (var i = arr.length - 1; i >= 0; i--) {
                        var img = new Image();
                        img.onload = loadCheckComplete;
                        img.onerror = loadCheckComplete;
                        img.src = arr[i];

                    }
                   
                    setTimeout(loadTimeout, 12000)
                    

                }
                function loadTimeout() {}
                function loadCheckComplete() {
                    numLoaded++;

                }
                
            
			</script>
		</div>
		<div class="box" data-block="1" >
			 <!-- map  start-->              
              <div class="map">
                    
                      <div style="width:100%;height:255px;border:#ccc solid 1px;font-size:12px" id="map"></div>
                         
                        <script type="text/javascript">
                           //创建和初始化地图函数：备注：需先引入百度API
                            
                            var map;
	                        initMap();
	                        function initMap(){
	                          createMap();//创建地图
	                          setMapEvent();//设置地图事件
	                          addMapControl();//向地图添加控件
	                          addMapOverlay();//向地图添加覆盖物
	                        }
	                        function createMap(){ 
	                          map = new BMap.Map("map"); 
	                          map.centerAndZoom(new BMap.Point(119.32016,26.100697),19);
	                        }
	                        function setMapEvent(){
	                          map.enableScrollWheelZoom();
	                          map.enableKeyboard();
	                          map.enableDragging();
	                          map.enableDoubleClickZoom()
	                        }
	                        function addClickHandler(target,window){
	                          target.addEventListener("click",function(){
	                            target.openInfoWindow(window);
	                          });
	                        }
	                        function addMapOverlay(){
	                          var markers = [
	                            {content:"福建省福州市湖东路312号国检广场B座",title:"",imageOffset: {width:0,height:0},position:{lat:26.100588,lng:119.320173}}
	                          ];
	                          for(var index = 0; index < markers.length; index++ ){
	                            var point = new BMap.Point(markers[index].position.lng,markers[index].position.lat);
	                            //标注图片路径，大小
	                            var marker = new BMap.Marker(point,{icon:new BMap.Icon("/img/icon-adr.png",new BMap.Size(22,29),{
	                              imageOffset: new BMap.Size(markers[index].imageOffset.width,markers[index].imageOffset.height)
	                            })});
	                            var label = new BMap.Label(markers[index].title,{offset: new BMap.Size(25,5)});
	                            
	                            //给标注 用label 设置样式，任意的CSS都是可以的
	                            label.setStyle({                                   

	                                color:"red",                   //颜色
	                                fontSize:"14px",               //字号
	                                border:"0",                    //边
	                                /*height:"120px", */               //高度
	                                /*width:"125px", */                //宽
	                                textAlign:"center",            //文字水平居中显示
	                                /*lineHeight:"120px",*/            //行高，文字垂直居中显示
	                                background:"transparent",    //背景图片，这是房产标注的关键！
	                                cursor:"pointer"
	                            });

	                            var opts = {
	                              width: 200,
	                              title: markers[index].title,
	                              enableMessage: false
	                            };
	                            var infoWindow = new BMap.InfoWindow(markers[index].content,opts);
	                            marker.setLabel(label);
	                            addClickHandler(marker,infoWindow);
	                            map.addOverlay(marker);
	                          };
	                        }
	                        //向地图添加控件
	                        function addMapControl(){
	                          /*var scaleControl = new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});
	                          scaleControl.setUnit(BMAP_UNIT_IMPERIAL);
	                          map.addControl(scaleControl);*/
	                          /*var navControl = new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});
	                          map.addControl(navControl);*/
	                        }
	                        
                        
                        </script>
              </div>
  <!-- map  end-->
		</div>
		<div class="box" style="height:555px;padding:0">
			
	            <div class='frosted-glass02'></div>  
	             
		</div>
		<div class="box" style="height:555px;padding:0">
			
	            <div class='frosted-glass02'></div>  
	             
		</div>
		
		<div class="box" style="height:555px;">
			<div class='centerBg'>  
	            <div class='frosted-glass01'></div>  
	             
	        </div> 
		</div>

	</div>
</body>
</html>